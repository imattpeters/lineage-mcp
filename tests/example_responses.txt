================================================================================
LINEAGE MCP - COMPREHENSIVE TOOL EXAMPLES
Generated by running actual server tool functions
================================================================================

================================================================================
TOOL 1: list_files(path)
================================================================================

>>> list_files('')  # List root directory

| Name | Type | Size |
|------|------|------|
| src/ | ðŸ“ dir | - |
| AGENTS.md | ðŸ“„ file | 97 bytes |
| config.json | ðŸ“„ file | 44 bytes |
| README.md | ðŸ“„ file | 41 bytes |

>>> list_files('src')  # List subdirectory

| Name | Type | Size |
|------|------|------|
| src/api/ | ðŸ“ dir | - |
| src/app/ | ðŸ“ dir | - |
| src/AGENTS.md | ðŸ“„ file | 95 bytes |

>>> list_files('src/app')  # List nested directory

| Name | Type | Size |
|------|------|------|
| src/app/layout.tsx | ðŸ“„ file | 86 bytes |
| src/app/page.tsx | ðŸ“„ file | 65 bytes |

================================================================================
TOOL 2: search_files(pattern, path)
================================================================================

>>> search_files('*.tsx')  # Find TypeScript React files

No files found matching pattern: *.tsx

>>> search_files('**/*.ts')  # Recursive search for .ts files

Found 2 file(s) matching '**/*.ts':

- src/api/handler.ts
- src/api/types.ts

>>> search_files('*.md', path='src')  # Search in subdirectory

Found 1 file(s) matching '*.md':

- src/AGENTS.md

>>> search_files('*.nonexistent')  # No matches

No files found matching pattern: *.nonexistent

================================================================================
TOOL 3: read_file(file_path, new_session, show_line_numbers, offset, limit)
================================================================================

>>> read_file('README.md')  # Basic read

# Test Project

This is a test project.

>>> read_file('config.json', show_line_numbers=True)  # With line numbers

1â†’{
2â†’    "debug": false,
3â†’    "timeout": 30
4â†’}

>>> read_file('src/app/page.tsx')  # Discovers parent instruction files

export default function Page() {
    return <div>Hello</div>;
}


[AGENTS.md from /workspace/src]# Source AGENTS.md

## Source-specific rules
- TypeScript for frontend
- .NET for backend


>>> read_file('src/AGENTS.md')  # Direct instruction file read

# Source AGENTS.md

## Source-specific rules
- TypeScript for frontend
- .NET for backend


>>> read_file('src/api/handler.ts')  # Instruction files not re-appended

export async function handler(req) {
    return Response.json({ok: true});
}


[CLAUDE.md from /workspace/src/api]# API CLAUDE.md

## Claude-specific instructions
- Use async/await patterns


>>> read_file('src/api/types.ts')  # CLAUDE.md is higher priority in api folder

export type User = { id: number; name: string; };


[CLAUDE.md from /workspace/src/api]# API CLAUDE.md

## Claude-specific instructions
- Use async/await patterns

[AGENTS.md from /workspace/src]# Source AGENTS.md

## Source-specific rules
- TypeScript for frontend
- .NET for backend


--------------------------------------------------------------------------------
read_file with offset/limit (partial reads)
--------------------------------------------------------------------------------

>>> read_file('multiline.txt', offset=5, limit=5)  # Lines 6-10

Line 6: This is content for line 6
Line 7: This is content for line 7
Line 8: This is content for line 8
Line 9: This is content for line 9
Line 10: This is content for line 10


>>> read_file('multiline.txt', offset=5, limit=5, show_line_numbers=True)

6â†’Line 6: This is content for line 6
7â†’Line 7: This is content for line 7
8â†’Line 8: This is content for line 8
9â†’Line 9: This is content for line 9
10â†’Line 10: This is content for line 10

>>> read_file('multiline.txt', offset=100)  # Offset beyond EOF



================================================================================
TOOL 4: write_file(file_path, content)
================================================================================

>>> write_file('new_file.txt', 'Hello, World!')  # Create new file

Successfully wrote to new_file.txt

>>> write_file('src/app/new_component.tsx', 'export default () => <div>New!</div>;')

Successfully wrote to src/app/new_component.tsx

>>> read_file('new_file.txt')  # Verify write

Hello, World!

================================================================================
TOOL 5: edit_file(file_path, old_string, new_string, replace_all)
================================================================================

>>> edit_file('edit_test.py', "return 'hello'", "return 'HELLO'")

Successfully replaced 1 occurrence(s) in edit_test.py

>>> edit_file('replace_all_test.txt', 'foo', 'FOO', replace_all=True)

Successfully replaced 5 occurrence(s) in replace_all_test.txt

>>> edit_file('edit_test.py', 'nonexistent', 'replacement')  # Error case

Error: String not found in file: 'nonexistent'

================================================================================
TOOL 6: delete_file(file_path)
================================================================================

>>> delete_file('to_delete.txt')  # Delete file

Successfully deleted file: to_delete.txt

>>> delete_file('empty_dir')  # Delete empty directory

Successfully deleted empty directory: empty_dir

>>> delete_file('nonexistent.txt')  # Error case

Error: File not found: nonexistent.txt

================================================================================
CHANGE DETECTION DEMO
================================================================================

>>> read_file('change_test.txt')  # First read - track file

Original content line 1
Original content line 2


>>> list_files('')  # External change detected

| Name | Type | Size |
|------|------|------|
| src/ | ðŸ“ dir | - |
| AGENTS.md | ðŸ“„ file | 97 bytes |
| change_test.txt | ðŸ“„ file | 62 bytes |
| config.json | ðŸ“„ file | 44 bytes |
| edit_test.py | ðŸ“„ file | 70 bytes |
| multiline.txt | ðŸ“„ file | 742 bytes |
| new_file.txt | ðŸ“„ file | 13 bytes |
| README.md | ðŸ“„ file | 41 bytes |
| replace_all_test.txt | ðŸ“„ file | 42 bytes |



[CHANGED_FILES]
- /workspace/change_test.txt (modified): lines 1-4 (Xs ago)

================================================================================
new_session AND clear() DEMO
================================================================================

>>> read_file('README.md', new_session=True)  # Clears all caches

# Test Project

This is a test project.

>>> list_files('', new_session=True)  # new_session works on list

| Name | Type | Size |
|------|------|------|
| src/ | ðŸ“ dir | - |
| AGENTS.md | ðŸ“„ file | 97 bytes |
| change_test.txt | ðŸ“„ file | 62 bytes |
| config.json | ðŸ“„ file | 44 bytes |
| edit_test.py | ðŸ“„ file | 70 bytes |
| multiline.txt | ðŸ“„ file | 742 bytes |
| new_file.txt | ðŸ“„ file | 13 bytes |
| README.md | ðŸ“„ file | 41 bytes |
| replace_all_test.txt | ðŸ“„ file | 42 bytes |

>>> search_files('**/*.py', new_session=True)  # new_session works on search

Found 1 file(s) matching '**/*.py':

- edit_test.py

>>> clear_cache()  # Alternative to new_session=True

Cache cleared. Instruction files will be re-provided on next read.

================================================================================
ERROR HANDLING DEMO
================================================================================

>>> read_file('../../../etc/passwd')  # Directory traversal blocked

Error: Cannot access files outside of the base directory.

>>> search_files('*.py', path='../../')  # Traversal in path blocked

Error: Cannot access files outside of the base directory.

>>> read_file('nonexistent_file.txt')  # File not found

Error: File not found: nonexistent_file.txt

>>> read_file('README.md', offset=-1)  # Invalid offset

Error: offset must be non-negative, got -1

================================================================================
SUMMARY - ALL 7 TOOLS TESTED
================================================================================

1. list_files(path, new_session) - Directory listing with markdown table
2. search_files(pattern, path, new_session) - Glob pattern file search
3. read_file(file_path, new_session, show_line_numbers, offset, limit)
   - Full and partial reads
   - Line number formatting
   - Instruction file discovery (AGENTS.md, CLAUDE.md, etc.)
   - Change detection
4. write_file(file_path, content, new_session) - Create/overwrite files
5. edit_file(file_path, old_string, new_string, replace_all, new_session) - String replacement
6. delete_file(file_path, new_session) - Delete files and empty directories
7. clear_cache() - Clear all session caches (alternative to new_session=True)

All tools (except clear) support the new_session parameter for cache reset after session continuation.
All tools include [CHANGED_FILES] section when external changes are detected.
Changes are only reported once, then cache is updated.
Instruction files shown once per folder per session (new_session=True or clear() resets).
Configured instruction file names: ['AGENTS.md', 'CLAUDE.md', 'GEMINI.md', 'QWEN.md', 'AGENT.md', '.cursorrules']
